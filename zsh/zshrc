#zmodload zsh/zprof

export PATH=$PATH:/opt/homebrew/bin
export PATH=$PATH:/opt/homebrew/Cellar/ansible@9/9.6.0_1/bin
export HOMEBREW_NO_ANALYTICS=1

eval "$(starship init zsh)"

fpath=(~/.zsh/completion $fpath)
autoload -U compinit
compinit

export SUDO_EDITOR=vi

## enable Vi mode
bindkey -v
bindkey '^Xh' _complete_help
bindkey jj vi-cmd-mode

autoload -U up-line-or-beginning-search
autoload -U down-line-or-beginning-search
zle -N up-line-or-beginning-search
zle -N down-line-or-beginning-search
bindkey "^[[A" up-line-or-beginning-search
bindkey "^[[B" down-line-or-beginning-search

#declare -a dirs_to_prepend

source ~/projects/dotfiles/zsh/kube_ctx.zsh
source ~/projects/dotfiles/zsh/alias.zsh
source ~/projects/dotfiles/zsh/history.zsh
ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE="fg=#dadada,bg=cyan"

##SDKMAN
source "$HOME/.sdkman/bin/sdkman-init.sh"

#add personal utility scripts
export PATH=$PATH:~/bin

#setopt aliases
#
#zstyle ':completion:*' matcher-list '' 'm:{a-zA-Z}={A-Za-z}' 'r:|[._-]=* r:|=*' 'l:|=* r:|=*'
#

if [ $commands[kubectl] ]; then
    source <(kubectl completion zsh)
    alias k=kubectl
    export PATH="${KREW_ROOT:-$HOME/.krew}/bin:$PATH"
fi
#
#[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion
